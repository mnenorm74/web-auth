@using Microsoft.AspNetCore.Authorization
@inject IAuthorizationService AuthorizationService

@model GetPhotoModel
@{
    ViewData["Title"] = "Фото";
}

<div class="container">
    <div>
        <img class="photo" src="@("/photos/" + Model.Photo.Id)"/>
    </div>
    <div>
        <div class="h5">@Model.Photo.Title</div>
        <div class="bottomMargin">
        @if ((await AuthorizationService.AuthorizeAsync(User, "Beta")).Succeeded)
        {
            <a asp-controller="Photo" asp-action="EditPhoto" asp-route-id="@Model.Photo.Id">Изменить подпись</a>
            <text>&nbsp;</text>
        }
            <a asp-controller="Photo" asp-action="DeletePhoto" asp-route-id="@Model.Photo.Id">Удалить фото</a>
        </div>
    </div>
</div>
